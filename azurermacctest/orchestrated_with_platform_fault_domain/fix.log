Test Case: orchestrated_with_platform_fault_domain
================================================================================

Initial Error:
Error: Unsupported attribute
  on azapi.tf line 47, in resource "azapi_resource" "this":
  47:     for_each = can(module.replicator.azapi_header.identity) ? [module.replicator.identity] : []
    â”‚ module.replicator is object with 8 attributes
This object does not have an attribute named "identity".

Fix Process:

Attempt 1:
- Problem Analysis: According to common_terraform_error.md Section 3, this is a "Redundant Module Outputs" error. The code tries to access module.replicator.identity, but identity is not exposed as a separate output. It's likely part of another composite output like azapi_body.
- Fix Method: Change module.replicator.identity to module.replicator.azapi_body.identity
- Changes Made: Updated line 47 in azapi.tf
- Result: Success! Plan now works. Detected drifts are all acceptable per acceptable_drift_patterns.md:
  * Resource-level attributes (ignore_null_property, locks, replace_triggers_external_values, sensitive_body_version, output, type) - Section 1
  * Body changes (removed computed default values like requireGuestProvisionSignal, secrets, patchSettings, etc.) - Section 2

Final Result: Fix successful

