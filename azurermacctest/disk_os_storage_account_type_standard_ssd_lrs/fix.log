Test Case: disk_os_storage_account_type_standard_ssd_lrs
================================================================================

Initial Error:
Error: Missing required argument
The argument "resource_group_name" is required, but no definition was found.

Fix Process:

Attempt 1:
- Problem Analysis: Module call in azapi.tf uses resource_group_id instead of resource_group_name
- Fix Method: Replace resource_group_id with resource_group_name
- Changes Made: Changed line 5 from "resource_group_id = azurerm_resource_group.test.id" to "resource_group_name = azurerm_resource_group.test.name"
- Result: Failed - module requires both resource_group_name AND resource_group_id

Attempt 2:
- Problem Analysis: Module requires BOTH resource_group_name and resource_group_id
- Fix Method: Add both parameters to module call
- Changes Made: Added resource_group_id = azurerm_resource_group.test.id on line 6
- Result: Plan partially succeeded but failed with "Attempt to get attribute from null value" in identity dynamic block

Attempt 3:
- Problem Analysis: Identity dynamic block uses can() which returns true even when value is null
- Fix Method: Replace can(module.replicator.azapi_header.identity) with != null check
- Changes Made: Line 45 changed from "can(module.replicator.azapi_header.identity)" to "module.replicator.azapi_header.identity != null"
- Result: Success - Plan shows acceptable drift only (AzAPI attributes + Optional+Computed body fields)

Final Result: Fix successful

Drift Analysis:
- All drifts are acceptable according to acceptable_drift_patterns.md:
  1. AzAPI attributes (ignore_null_property, locks, replace_triggers_external_values, sensitive_body_version, output, type) - Section 1
  2. Body changes are all Optional+Computed fields from Azure API - Section 2
