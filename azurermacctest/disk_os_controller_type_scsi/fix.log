Test Case: disk_os_controller_type_scsi
================================================================================

Initial Error:
Error: Attempt to get attribute from null value
  on azapi.tf line 48, in resource "azapi_resource" "this":
  48:       type         = identity.value.type
     ├────────────────
     │ identity.value is null
This value is null, so it does not have any attributes.

Fix Process:

Attempt 1:
- Problem Analysis: The dynamic "identity" block was using can() function which returns true even when the value is null, causing the for_each to create an iteration with a null value
- Fix Method: Changed the condition from can(module.replicator.azapi_header.identity) to module.replicator.azapi_header.identity != null
- Changes Made: Modified azapi.tf line 46 to use != null check instead of can() function
- Result: Success - terraform plan completed successfully with only acceptable drift patterns (telemetry resources and Azure API response field normalization)

Final Result: Fix successful
