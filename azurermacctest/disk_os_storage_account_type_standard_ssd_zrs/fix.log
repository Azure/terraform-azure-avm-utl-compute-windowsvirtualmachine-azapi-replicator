Test Case: disk_os_storage_account_type_standard_ssd_zrs
================================================================================

Initial Error:
Error: Attempt to get attribute from null value
  on azapi.tf line 46, in resource "azapi_resource" "this":
  46:       type         = identity.value.type
     ├────────────────
     │ identity.value is null
This value is null, so it does not have any attributes.

Fix Process:

Attempt 1:
- Problem Analysis: The dynamic identity block uses can() to check if identity exists, but this returns true even when the value is null
- Fix Method: Change the condition to check if identity is not null
- Changes Made: Modified azapi.tf line 44 from 'can(module.replicator.azapi_header.identity)' to 'module.replicator.azapi_header.identity != null'
- Result: Success - Plan shows acceptable drifts only

Drift Analysis:
All detected changes are acceptable per acceptable_drift_patterns.md:
1. Resource-level attributes (ignore_null_property, locks, replace_triggers_external_values, sensitive_body_version, output, type) - Acceptable (Section 1)
2. Body changes are computed/default values from Azure API being removed - Acceptable (Section 2)

Final Result: Fix successful
