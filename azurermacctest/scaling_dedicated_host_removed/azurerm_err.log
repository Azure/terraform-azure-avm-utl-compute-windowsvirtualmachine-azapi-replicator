Test Case: scaling_dedicated_host_removed
================================================================================

Failed Command: terraform apply -auto-approve -input=false

Error Messages:
1. Computer Name Length Error:
   Error: unable to assume default computer name "computer_name" can be at most 15 characters, got 17. 
   Please adjust the `name`, or specify an explicit `computer_name`

2. Quota Exceeded Error:
   Error: creating Dedicated Host (Subscription: "f7a632a5-49db-4c5e-9828-cd62cb753971"
   Resource Group Name: "acctestRG-946029"
   Host Group Name: "acctestDHG-946029"
   Host Name: "acctestDH2-946029"): performing CreateOrUpdate: unexpected status 409 (409 Conflict) 
   with error: OperationNotAllowed: Operation could not be completed as it results in exceeding 
   approved standardDSv3Family Cores quota. Additional details - Deployment Model: Resource Manager, 
   Location: eastus, Current Limit: 65, Current Usage: 0, Additional Required: 80, (Minimum) New Limit Required: 80.

Root Cause Analysis:
1. Computer Name Issue: 
   - The vm_name is generated as "acctestvm${random_string.name.result}"
   - With random_string length of 8, this creates a 16-character name (8 for "acctestvm" + 8 random)
   - Windows VM computer names are limited to 15 characters maximum
   - This is a random resource constraint violation that could be fixed by adjusting random_string length

2. Quota Limitation:
   - The test requires creation of a dedicated host with SKU "DSv3-Type3"
   - This SKU requires 80 cores in the standardDSv3Family
   - The subscription only has a quota limit of 65 cores
   - This is NOT a random resource issue but a fundamental subscription limitation
   - Cannot be fixed without requesting quota increase from Azure support

Conclusion:
While the computer name issue could be resolved by reducing the random_string length in main.tf from 8 
to 7 characters (to fit within 15 characters), the quota limitation is a fundamental blocker. The test 
requires 80 cores but the subscription only has 65 cores available. This cannot be resolved without a 
quota increase request to Azure, which is outside the scope of automated testing.

Test marked as INVALID due to insufficient subscription quota for dedicated host creation.

Status: INVALID - Quota Exceeded (standardDSv3Family: required 80 cores, limit 65 cores)
